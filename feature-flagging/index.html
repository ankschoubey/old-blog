<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<!-- <script>
  for (const iterator of document.getElementsByClassName('page-link')) {
      if (iterator.innerHTML === 'Search'){ iterator.classList.add('search-button'); iterator.title = 'Search';}
      if (iterator.innerHTML === 'Tags'){ iterator.classList.add('tags-button'); iterator.title = 'Tags';}
      if (iterator.innerHTML === 'Side Projects'){ iterator.classList.add('side-project-button'); iterator.title = 'Side Projects';}
  }
</script> --><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script type="text/javascript" src="/assets/accordian.js"></script>

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Feature Flagging</h1>

    <p class="page-description">For Chaos Engineering and Continuous Delivery</p>
<p class="post-meta post-meta-title"><time class="dt-published post-meta-created-date" datetime="2022-08-28T00:00:00-05:00" itemprop="datePublished">
        Written: Aug 28, 2022
      </time>~<time class="dt-modified post-meta-last-modified-date" datetime="2022-08-28T15:52:08-05:00" itemprop="dateModified">
          Updated: Aug 28, 2022
        </time>
       • <span class="read-time" title="Estimated read time">
    
    
      2 min read
    
</span></p>    <style>
        .post-tool-bar{
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0px 10px 0px;
            /* border: 1px solid #e8e8e8; */
            border-width: 0px 0px 1px 0px;
        }
        .left-section , .right-section{
            display: flex;
            gap: 8px;
        }

    </style>
    
    <div class="post-tool-bar">
<!-- <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
        AOS.init();
</script> -->

<div class="tag-list">
    
    <a class="tag fa fa-hashtag feature-flagging" href="/categories/#feature-flagging">feature-flagging</a>
    
</div>
<div class="right-section">
<a id="translate-btn" href="https://www.translatetheweb.com/?ref=TAns&from=&to=hi&a=https%3A%2F%2Fwww.ankushchoubey.com%2F">
    <img src="/images/icons/translate.svg" alt="Translate" style="width:35px">
</a>


<script>
    a = document.getElementById('translate-btn');
    a.setAttribute("href", "https://www.translatetheweb.com/?ref=TAns&from=&to=hi&a=" + window.location.href);
</script><a id="speech-btn">
    <img src="/images/icons/ear.svg" alt="listen" style="width:35px; cursor: pointer;">
</a>

<script>
    speakPost = () => {
        var msg = new SpeechSynthesisUtterance();
        const title = document.querySelector("h1.post-title.p-name").innerText;
        const post = document.querySelector("div.post-content.e-content").innerText
        msg.text = title + '.' + post;
        window.speechSynthesis.speak(msg);
    }
    if ('speechSynthesis' in window) {
        document.getElementById("speech-btn").addEventListener("click", speakPost);
    } else {
        document.getElementById('speech-btn').style.display = 'none';
    }
</script>

<!-- https://www.alebalweb-blog.com/85-text-to-speech-player-with-buttons-play-pause-stop-and-voice-choice.html -->
</div>
      
          
    </div>
    
</header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#what-are-feature-flags">What are feature flags?</a></li>
<li class="toc-entry toc-h1"><a href="#feature-flagging-for-cd">Feature Flagging for CD</a></li>
<li class="toc-entry toc-h1">
<a href="#common-ways-of-implementing-feature-flagging">Common ways of implementing Feature Flagging</a>
<ul>
<li class="toc-entry toc-h2"><a href="#storing-flags">Storing flags</a></li>
</ul>
</li>
<li class="toc-entry toc-h1">
<a href="#enabling-disabling">Enabling disabling</a>
<ul>
<li class="toc-entry toc-h2"><a href="#end-to-end-services">End-to-end services</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#resources">Resources</a></li>
</ul>
<p><img src="/images/feature-flagging.jpg" alt=""></p>

<p>Photo by <a href="https://unsplash.com/@isaactanlishung?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Isaac Li Shung Tan</a> on <a href="https://unsplash.com/s/photos/on-off?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a></p>

<h1 id="what-are-feature-flags">
<a class="anchor" href="#what-are-feature-flags" aria-hidden="true"><span class="octicon octicon-link"></span></a>What are feature flags?</h1>

<p>The concept of feature flags is simple. You can toggle a feature on or off based on certain conditions. And ideally, this requires zero downtime.</p>

<p>For example, an experiment feature can be turned on for some users but disabled for others.</p>

<p>There are many levels to feature flagging:</p>
<ul>
  <li>Disable feature for specific users</li>
  <li>Disable the feature completely</li>
  <li>Disable the feature in case of certain conditions</li>
</ul>

<p>Feature flagging can also help in AB Testing.</p>

<h1 id="feature-flagging-for-cd">
<a class="anchor" href="#feature-flagging-for-cd" aria-hidden="true"><span class="octicon octicon-link"></span></a>Feature Flagging for CD</h1>

<p>Feature flags also help in CD. Rather than feature branching, everyone can work on a single branch, but the features that aren’t ready yet can be disabled on prod. This decouples release and feature. Feature flagging is probabilistic because, in practice, it leads to stale branches.</p>

<p>In case of chaos engineering, a feature flag can help reduce blast radius and improve resiliency. Suppose a feature fails; that feature can be disabled at a run time until fixed.</p>

<h1 id="common-ways-of-implementing-feature-flagging">
<a class="anchor" href="#common-ways-of-implementing-feature-flagging" aria-hidden="true"><span class="octicon octicon-link"></span></a>Common ways of implementing Feature Flagging</h1>

<h2 id="storing-flags">
<a class="anchor" href="#storing-flags" aria-hidden="true"><span class="octicon octicon-link"></span></a>Storing flags</h2>
<p>The simplest implementation of the feature flag is DB based. A list of features is stored along with a flag to enable or disable it. Each time a decision comes, DB is called to fetch the flag’s status.</p>

<p>Environment variables can also be used. Configuration management systems like Spring Cloud Config can also be used to store flags.</p>

<h1 id="enabling-disabling">
<a class="anchor" href="#enabling-disabling" aria-hidden="true"><span class="octicon octicon-link"></span></a>Enabling disabling</h1>
<p>The code has an IF else statement that enables or disables the feature.</p>

<p>An even better approach to IF else is dependency injection. If a class can be instantiated conditionally, then we solved the feature flagging problem cleanly.</p>

<p>Having a class per feature and inheriting a common interface is the best approach here. In the planning features section of this blog post, you’ll find more ideas on how to reach this.</p>

<h2 id="end-to-end-services">
<a class="anchor" href="#end-to-end-services" aria-hidden="true"><span class="octicon octicon-link"></span></a>End-to-end services</h2>
<p>There are also full-blown services that help with feature flagging, like <a href="https://launchdarkly.com/blog/what-are-feature-flags/">LaunchDarkly</a> and <a href="https://www.flagship.io/">FlagShip</a></p>

<h1 id="resources">
<a class="anchor" href="#resources" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resources</h1>

<ul>
  <li><a href="https://martinfowler.com/articles/feature-toggles.html#CategoriesOfToggles">Feature Toggles (aka Feature Flags)</a></li>
  <li>
<a href="https://youtu.be/UwrJaOtS4ys">DevOps Concepts: Feature Flags</a>: An introductory video that explains feature flagging and branching.</li>
  <li><a href="https://www.baeldung.com/spring-feature-flags">Feature Flags with Spring</a></li>
  <li>
<a href="https://www.togglz.org/quickstart.html">Togglz</a>: A java library for feature flagging. It comes with a UI.</li>
  <li>
<a href="https://ff4j.github.io/">FF4j</a>: A java library similar to Togglz</li>
  <li>
<a href="https://github.com/unleash/unleash-client-java">Unleash</a>: Probably the best open source feature flagging product.</li>
</ul>

  </div>
  <!-- https://david.elbe.me/jekyll/2015/06/20/how-to-link-to-next-and-previous-post-with-jekyll.html -->

<div class="PageNavigation">
    
      <a class="prev" href="/data-driven-decisions/">« Towards Data Driven Decisions</a>
    
    
      <a class="next" href="/response-type-field/">A responseType field for all response classes »</a>
    
  </div>

<style>
    .PageNavigation {
  font-size: 14px;
  display: block;
  width: auto;
  overflow: hidden;
}

.PageNavigation a {
  display: block;
  width: 50%;
  float: left;
  margin: 1em 0;
}

.PageNavigation .next {
  text-align: right;
}
</style>
<!-- from https://github.com/utterance/utterances -->
<!-- <script src="https://utteranc.es/client.js"
        repo="ankschoubey/blog"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script> -->

  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'https://www.ankushchoubey.com/feature-flagging/';
      this.page.identifier = 'https://www.ankushchoubey.com/feature-flagging/';
    };
    (function() {
      var d = document, s = d.createElement('script');
      s.src = 'https://ankushchoubey.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
<a class="u-url" href="/feature-flagging/" hidden></a>
</article>
</head></html>
