<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image">
<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Feature Flagging | Ankush Choubey</title>
<meta name="generator" content="Jekyll v4.1.1">
<meta property="og:title" content="Feature Flagging">
<meta property="og:locale" content="en_US">
<meta name="description" content="For Chaos Engineering and Continuous Delivery">
<meta property="og:description" content="For Chaos Engineering and Continuous Delivery">
<link rel="canonical" href="www.ankushchoubey.com/feature-flagging/">
<meta property="og:url" content="www.ankushchoubey.com/feature-flagging/">
<meta property="og:site_name" content="Ankush Choubey">
<meta property="og:image" content="www.ankushchoubey.com/images/feature-flagging.jpg">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2022-08-28T00:00:00-05:00">
<script type="application/ld+json">
{"url":"www.ankushchoubey.com/feature-flagging/","@type":"BlogPosting","headline":"Feature Flagging","dateModified":"2022-08-28T15:52:08-05:00","datePublished":"2022-08-28T00:00:00-05:00","image":"www.ankushchoubey.com/images/feature-flagging.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"www.ankushchoubey.com/feature-flagging/"},"description":"For Chaos Engineering and Continuous Delivery","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css">
<link type="application/atom+xml" rel="alternate" href="www.ankushchoubey.com/feed.xml" title="Ankush Choubey">
<!-- the google_analytics_id gets auto inserted from the config file -->



<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-35993343-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-35993343-1');
</script>


<link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha512-0doc9hKxR3PYwso42RD1p5ySZpzzuDiOwMrdCEh2WdJZCjcmFKc/wEnL+z8fBQrnHoiNWbo+3fiGkOYXBdQp4A==" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body>
<header class="site-header">

  <div class="wrapper">
<a class="site-title" rel="author" href="/">Ankush Choubey</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
<a class="page-link" href="/philosophy/">Philosophy</a><a class="page-link" href="/resume/">Hire me!</a><a class="page-link" href="/search/">Search</a><a class="page-link" href="/categories/">Tags</a>
</div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <!-- <script>
  for (const iterator of document.getElementsByClassName('page-link')) {
      if (iterator.innerHTML === 'Search'){ iterator.classList.add('search-button'); iterator.title = 'Search';}
      if (iterator.innerHTML === 'Tags'){ iterator.classList.add('tags-button'); iterator.title = 'Tags';}
      if (iterator.innerHTML === 'Side Projects'){ iterator.classList.add('side-project-button'); iterator.title = 'Side Projects';}
  }
</script> -->


<script type="text/javascript" src="/assets/accordian.js"></script>

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Feature Flagging</h1>

    <p class="page-description">For Chaos Engineering and Continuous Delivery</p>
<p class="post-meta post-meta-title"><time class="dt-published post-meta-created-date" datetime="2022-08-28T00:00:00-05:00" itemprop="datePublished">
        Written: Aug 28, 2022
      </time>~<time class="dt-modified post-meta-last-modified-date" datetime="2022-08-28T15:52:08-05:00" itemprop="dateModified">
          Updated: Aug 28, 2022
        </time>
       • <span class="read-time" title="Estimated read time">
    
    
      2 min read
    
</span></p>    <style>
        .post-tool-bar{
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0px 10px 0px;
            /* border: 1px solid #e8e8e8; */
            border-width: 0px 0px 1px 0px;
        }
        .left-section , .right-section{
            display: flex;
            gap: 8px;
        }

    </style>
    
    <div class="post-tool-bar">
<!-- <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
        AOS.init();
</script> -->

<div class="tag-list">
    
    <a class="tag fa fa-hashtag feature-flagging" href="/categories/#feature-flagging">feature-flagging</a>
    
</div>
<div class="right-section">
<a id="translate-btn" href="https://www.translatetheweb.com/?ref=TAns&from=&to=hi&a=https%3A%2F%2Fwww.ankushchoubey.com%2F">
    <img src="/images/icons/translate.svg" alt="Translate" style="width:35px">
</a>


<script>
    a = document.getElementById('translate-btn');
    a.setAttribute("href", "https://www.translatetheweb.com/?ref=TAns&from=&to=hi&a=" + window.location.href);
</script><a id="speech-btn">
    <img src="/images/icons/ear.svg" alt="listen" style="width:35px; cursor: pointer;">
</a>

<script>
    speakPost = () => {
        var msg = new SpeechSynthesisUtterance();
        const title = document.querySelector("h1.post-title.p-name").innerText;
        const post = document.querySelector("div.post-content.e-content").innerText
        msg.text = title + '.' + post;
        window.speechSynthesis.speak(msg);
    }
    if ('speechSynthesis' in window) {
        document.getElementById("speech-btn").addEventListener("click", speakPost);
    } else {
        document.getElementById('speech-btn').style.display = 'none';
    }
</script>

<!-- https://www.alebalweb-blog.com/85-text-to-speech-player-with-buttons-play-pause-stop-and-voice-choice.html -->
</div>
      
          
    </div>
    
</header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#what-are-feature-flags">What are feature flags?</a></li>
<li class="toc-entry toc-h1"><a href="#feature-flagging-for-cd">Feature Flagging for CD</a></li>
<li class="toc-entry toc-h1">
<a href="#common-ways-of-implementing-feature-flagging">Common ways of implementing Feature Flagging</a>
<ul>
<li class="toc-entry toc-h2"><a href="#storing-flags">Storing flags</a></li>
</ul>
</li>
<li class="toc-entry toc-h1">
<a href="#enabling-disabling">Enabling disabling</a>
<ul>
<li class="toc-entry toc-h2"><a href="#end-to-end-services">End-to-end services</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#resources">Resources</a></li>
</ul>
<p><img src="/images/feature-flagging.jpg" alt=""></p>

<p>Photo by <a href="https://unsplash.com/@isaactanlishung?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Isaac Li Shung Tan</a> on <a href="https://unsplash.com/s/photos/on-off?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a></p>

<h1 id="what-are-feature-flags">
<a class="anchor" href="#what-are-feature-flags" aria-hidden="true"><span class="octicon octicon-link"></span></a>What are feature flags?</h1>

<p>The concept of feature flags is simple. You can toggle a feature on or off based on certain conditions. And ideally, this requires zero downtime.</p>

<p>For example, an experiment feature can be turned on for some users but disabled for others.</p>

<p>There are many levels to feature flagging:</p>
<ul>
  <li>Disable feature for specific users</li>
  <li>Disable the feature completely</li>
  <li>Disable the feature in case of certain conditions</li>
</ul>

<p>Feature flagging can also help in AB Testing.</p>

<h1 id="feature-flagging-for-cd">
<a class="anchor" href="#feature-flagging-for-cd" aria-hidden="true"><span class="octicon octicon-link"></span></a>Feature Flagging for CD</h1>

<p>Feature flags also help in CD. Rather than feature branching, everyone can work on a single branch, but the features that aren’t ready yet can be disabled on prod. This decouples release and feature. Feature flagging is probabilistic because, in practice, it leads to stale branches.</p>

<p>In case of chaos engineering, a feature flag can help reduce blast radius and improve resiliency. Suppose a feature fails; that feature can be disabled at a run time until fixed.</p>

<h1 id="common-ways-of-implementing-feature-flagging">
<a class="anchor" href="#common-ways-of-implementing-feature-flagging" aria-hidden="true"><span class="octicon octicon-link"></span></a>Common ways of implementing Feature Flagging</h1>

<h2 id="storing-flags">
<a class="anchor" href="#storing-flags" aria-hidden="true"><span class="octicon octicon-link"></span></a>Storing flags</h2>
<p>The simplest implementation of the feature flag is DB based. A list of features is stored along with a flag to enable or disable it. Each time a decision comes, DB is called to fetch the flag’s status.</p>

<p>Environment variables can also be used. Configuration management systems like Spring Cloud Config can also be used to store flags.</p>

<h1 id="enabling-disabling">
<a class="anchor" href="#enabling-disabling" aria-hidden="true"><span class="octicon octicon-link"></span></a>Enabling disabling</h1>
<p>The code has an IF else statement that enables or disables the feature.</p>

<p>An even better approach to IF else is dependency injection. If a class can be instantiated conditionally, then we solved the feature flagging problem cleanly.</p>

<p>Having a class per feature and inheriting a common interface is the best approach here. In the planning features section of this blog post, you’ll find more ideas on how to reach this.</p>

<h2 id="end-to-end-services">
<a class="anchor" href="#end-to-end-services" aria-hidden="true"><span class="octicon octicon-link"></span></a>End-to-end services</h2>
<p>There are also full-blown services that help with feature flagging, like <a href="https://launchdarkly.com/blog/what-are-feature-flags/">LaunchDarkly</a> and <a href="https://www.flagship.io/">FlagShip</a></p>

<h1 id="resources">
<a class="anchor" href="#resources" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resources</h1>

<ul>
  <li><a href="https://martinfowler.com/articles/feature-toggles.html#CategoriesOfToggles">Feature Toggles (aka Feature Flags)</a></li>
  <li>
<a href="https://youtu.be/UwrJaOtS4ys">DevOps Concepts: Feature Flags</a>: An introductory video that explains feature flagging and branching.</li>
  <li><a href="https://www.baeldung.com/spring-feature-flags">Feature Flags with Spring</a></li>
  <li>
<a href="https://www.togglz.org/quickstart.html">Togglz</a>: A java library for feature flagging. It comes with a UI.</li>
  <li>
<a href="https://ff4j.github.io/">FF4j</a>: A java library similar to Togglz</li>
  <li>
<a href="https://github.com/unleash/unleash-client-java">Unleash</a>: Probably the best open source feature flagging product.</li>
</ul>

  </div>
  <!-- https://david.elbe.me/jekyll/2015/06/20/how-to-link-to-next-and-previous-post-with-jekyll.html -->

<div class="PageNavigation">
    
      <a class="prev" href="/data-driven-decisions/">« Towards Data Driven Decisions</a>
    
    
      <a class="next" href="/response-type-field/">A responseType field for all response classes »</a>
    
  </div>

<style>
    .PageNavigation {
  font-size: 14px;
  display: block;
  width: auto;
  overflow: hidden;
}

.PageNavigation a {
  display: block;
  width: 50%;
  float: left;
  margin: 1em 0;
}

.PageNavigation .next {
  text-align: right;
}
</style>
<!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js" repo="ankschoubey/blog" issue-term="title" label="blogpost-comment" theme="github-light" crossorigin="anonymous" async>
</script>

  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'www.ankushchoubey.com/feature-flagging/';
      this.page.identifier = 'www.ankushchoubey.com/feature-flagging/';
    };
    (function() {
      var d = document, s = d.createElement('script');
      s.src = 'https://ankushchoubey.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
<a class="u-url" href="/feature-flagging/" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Full Stack Developer - Cloud/Microservices</p>
      </div>
    </div>

    <div class="social-links">
<ul class="social-media-list">
<li>
  <a rel="me" href="https://github.com/ankschoubey" target="_blank" title="github">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#github"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://twitter.com/ankschoubey" target="_blank" title="twitter">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#twitter"></use>
    </svg>
  </a>
</li>
</ul>
</div>

  </div>

</footer>
</body>

</html>
