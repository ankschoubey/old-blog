<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<!-- <script>
  for (const iterator of document.getElementsByClassName('page-link')) {
      if (iterator.innerHTML === 'Search'){ iterator.classList.add('search-button'); iterator.title = 'Search';}
      if (iterator.innerHTML === 'Tags'){ iterator.classList.add('tags-button'); iterator.title = 'Tags';}
      if (iterator.innerHTML === 'Side Projects'){ iterator.classList.add('side-project-button'); iterator.title = 'Side Projects';}
  }
</script> --><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script type="text/javascript" src="/assets/accordian.js"></script>

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Why do microservices need an API client sdk for HTTP and Messaging?</h1>

    <p class="post-meta post-meta-title"><time class="dt-published post-meta-created-date" datetime="2022-12-03T00:00:00-06:00" itemprop="datePublished">
        Written: Dec 3, 2022
      </time>~<time class="dt-modified post-meta-last-modified-date" datetime="2022-12-03T14:52:08-06:00" itemprop="dateModified">
          Updated: Dec 3, 2022
        </time>
       • <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>    <style>
        .post-tool-bar{
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0px 10px 0px;
            /* border: 1px solid #e8e8e8; */
            border-width: 0px 0px 1px 0px;
        }
        .left-section , .right-section{
            display: flex;
            gap: 8px;
        }

    </style>
    
    <div class="post-tool-bar">
<!-- <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
        AOS.init();
</script> -->

<div class="tag-list">
    
    <a class="tag fa fa-hashtag microservices" href="/categories/#microservices">microservices</a>
    
    <a class="tag fa fa-hashtag distributed-systems" href="/categories/#distributed-systems">distributed-systems</a>
    
</div>
<div class="right-section">
<a id="translate-btn" href="https://www.translatetheweb.com/?ref=TAns&from=&to=hi&a=https%3A%2F%2Fwww.ankushchoubey.com%2F">
    <img src="/images/icons/translate.svg" alt="Translate" style="width:35px">
</a>


<script>
    a = document.getElementById('translate-btn');
    a.setAttribute("href", "https://www.translatetheweb.com/?ref=TAns&from=&to=hi&a=" + window.location.href);
</script><a id="speech-btn">
    <img src="/images/icons/ear.svg" alt="listen" style="width:35px; cursor: pointer;">
</a>

<script>
    speakPost = () => {
        var msg = new SpeechSynthesisUtterance();
        const title = document.querySelector("h1.post-title.p-name").innerText;
        const post = document.querySelector("div.post-content.e-content").innerText
        msg.text = title + '.' + post;
        window.speechSynthesis.speak(msg);
    }
    if ('speechSynthesis' in window) {
        document.getElementById("speech-btn").addEventListener("click", speakPost);
    } else {
        document.getElementById('speech-btn').style.display = 'none';
    }
</script>

<!-- https://www.alebalweb-blog.com/85-text-to-speech-player-with-buttons-play-pause-stop-and-voice-choice.html -->
</div>
      
          
    </div>
    
</header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><img src="/images/v1-api-client/header.png" alt="Amazon SDK"></p>
<pre>Amazon SDK</pre>

<h2 id="how-does-microservice-usage-ramp-up">How does microservice usage ramp up?</h2>

<p>Microservice usage scales very fast. At first, a single service is the APIs. Suddenly there is a bunch.</p>

<p>Each implements the same methods to access the same rest APIs. Each one of them would implement contract testing.</p>

<p>This is a wasted effort.</p>

<p><img src="/images/v1-api-client/without-api-client.png" alt="Without API Client"></p>

<h2 id="api-client-sdk">API Client SDK</h2>

<p>We can, as an alternative, create one client code and let everyone use it. Or one client in each programming language that uses it.</p>

<p>This gives us the following advantage:</p>

<ol>
  <li>Only the client code deals with the format of the API.</li>
  <li>Only the client code needs to be contract tested.</li>
  <li>If the endpoints of the API change, only the client code needs to be changed.</li>
  <li>We can create a single @Value for the base URL for the client and inject it via a config server for all applications.</li>
  <li>If we need to add micrometer-prometheus usage metrics for an API, we have one destination.</li>
  <li>If we need to retire an API, we just add @deprecated and release the client.</li>
</ol>

<p>The client would also include:</p>

<ol>
  <li>Request validation: To avoid unnecessary network calls.</li>
  <li>Request Body POJOs: So that everyone uses the same format.</li>
  <li>Response Body POJOs.</li>
  <li>Standard Exception handling</li>
</ol>

<p><img src="/images/v1-api-client/api-client.png" alt="Without API Client"></p>

<h2 id="message-client">Message client</h2>

<p>The same can be used for messaging like Kafka, where the client can include POJOs format and methods to publish messages in case of incoming webhooks.</p>

<h2 id="conclusion">Conclusion</h2>

<p>In conclusion, an API client would help reduce the efforts of all developers in developing and using an API. The developers using the client need not be concerned with how the API works internally, weather it works on REST, Graph QL, gRPC, etc. They just need to send and receive data in using the right client provided POJOs.</p>

  </div>
  <!-- https://david.elbe.me/jekyll/2015/06/20/how-to-link-to-next-and-previous-post-with-jekyll.html -->

<div class="PageNavigation">
    
      <a class="prev" href="/v1/core-attributes">« Core Attributes</a>
    
    
      <a class="next" href="/v1/quantified-self">Developing better self-awareness with QuantifiedSelf - Observability for personal life. »</a>
    
  </div>

<style>
    .PageNavigation {
  font-size: 14px;
  display: block;
  width: auto;
  overflow: hidden;
}

.PageNavigation a {
  display: block;
  width: 50%;
  float: left;
  margin: 1em 0;
}

.PageNavigation .next {
  text-align: right;
}
</style>
<!-- from https://github.com/utterance/utterances -->
<!-- <script src="https://utteranc.es/client.js"
        repo="ankschoubey/blog"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script> -->

  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'https://www.ankushchoubey.com/v1/api-client-sdk';
      this.page.identifier = 'https://www.ankushchoubey.com/v1/api-client-sdk';
    };
    (function() {
      var d = document, s = d.createElement('script');
      s.src = 'https://ankushchoubey.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
<a class="u-url" href="/v1/api-client-sdk" hidden></a>
</article>
</head></html>
