<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Flat is better than nested | Ankush Choubey</title>
<meta name="generator" content="Jekyll v4.1.1">
<meta property="og:title" content="Flat is better than nested">
<meta property="og:locale" content="en_US">
<meta name="description" content="Leave when not okay">
<meta property="og:description" content="Leave when not okay">
<link rel="canonical" href="https://www.ankushchoubey.com/flat_is_better/">
<meta property="og:url" content="https://www.ankushchoubey.com/flat_is_better/">
<meta property="og:site_name" content="Ankush Choubey">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2019-12-20T00:00:00-06:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Flat is better than nested">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2019-12-20T14:42:15-06:00","datePublished":"2019-12-20T00:00:00-06:00","description":"Leave when not okay","headline":"Flat is better than nested","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.ankushchoubey.com/flat_is_better/"},"url":"https://www.ankushchoubey.com/flat_is_better/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css">
<link type="application/atom+xml" rel="alternate" href="https://www.ankushchoubey.com/feed.xml" title="Ankush Choubey">
<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-35993343-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>



<script id="mcjs">!function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}(document,"script","https://chimpstatic.com/mcjs-connected/js/users/787ccdfb3a0c625c1830ac78a/859c6d3b694fad02c3eff1603.js");</script><link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Flat is better than nested | Ankush Choubey</title>
<meta name="generator" content="Jekyll v4.1.1">
<meta property="og:title" content="Flat is better than nested">
<meta property="og:locale" content="en_US">
<meta name="description" content="Leave when not okay">
<meta property="og:description" content="Leave when not okay">
<link rel="canonical" href="https://www.ankushchoubey.com/flat_is_better/">
<meta property="og:url" content="https://www.ankushchoubey.com/flat_is_better/">
<meta property="og:site_name" content="Ankush Choubey">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2019-12-20T00:00:00-06:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Flat is better than nested">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2019-12-20T14:42:15-06:00","datePublished":"2019-12-20T00:00:00-06:00","description":"Leave when not okay","headline":"Flat is better than nested","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.ankushchoubey.com/flat_is_better/"},"url":"https://www.ankushchoubey.com/flat_is_better/"}</script>
<!-- End Jekyll SEO tag -->

<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet">
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css">
<link type="application/atom+xml" rel="alternate" href="https://www.ankushchoubey.com/feed.xml" title="Ankush Choubey">
<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-35993343-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
    <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"> </script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body>
<header class="site-header">

  <div class="wrapper">
<a class="site-title" rel="author" href="/">Ankush Choubey</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
<a class="page-link" href="/core-values-page/">Core Values</a><a class="page-link" href="/philosophy/">Philosophy</a><a class="page-link" href="/resume">Hire me!</a><a class="page-link" href="/search/">Search</a>
</div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <style>
  .page-content{
    padding-top: 0px;
  }
  .post-header{
    display: flex;
    flex-direction: column;
    justify-content: end;}

  .cover-image{
    position: absolute;
    left:0px;
    height: 300px;
    object-fit: cover;
    width: 100%;
  }

  @media screen and (max-width: 500px) {
    .post-header{}
    .cover-image{
      height: 550px;
    }
  }
  .post-header-content{}
</style>

<header class="post-header"><div class="post-header-content">
    <h1 class="post-title p-name" itemprop="name headline">Flat is better than nested</h1>
<p class="page-description">Leave when not okay</p>
<p class="post-meta post-meta-title"><time class="dt-published" datetime="2019-12-20T00:00:00-06:00" itemprop="datePublished">
        Dec 20, 2019
      </time>
      • <span class="read-time" title="Estimated read time">
    
    
      2 min read
    
</span></p>

    
    <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i>
      
      <a class="category-tags-link" href="/categories/#clean-code">clean-code</a>
      
      
    </p>
    

    </div>
</header>
<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="post-content e-content" itemprop="articleBody">
    <p>This might be the most important tip of all the tips covered which applies mainly to if-else statements.</p>

<h2 id="nesting-clutters-your-code">Nesting clutters your code.</h2>

<h3 id="where-does-the-block-end">Where does the block end</h3>

<p>It becomes hard to find where a particular block ends easily (especially if someone writes 8 or more nests 😖)</p>

<h3 id="unnecessary-horizontal-scrolling">Unnecessary horizontal scrolling</h3>

<p>Also, you might have to scroll horizontally to see what the complete code is since it does not fit your screen.</p>

<h3 id="nesting-makes-your-code-hard-to-understand">Nesting makes your code hard to understand.</h3>

<p>While you are reading your nested block, you have to remember what all conditions preceded it.</p>

<p>The below guideline should counter that:</p>

<blockquote>
  <p>Max indent should be 2, in case of exceptions 3</p>
</blockquote>

<h2 id="avoid-the-use-of-else">Avoid the use of else.</h2>

<h3 id="returnthrow-when-not-okay">Return/throw when not okay</h3>

<ul>
  <li>
    <p>By returning early you make sure that in each of your functions the last line of your function returns what it is actually supposed to return. This will make your code consistent.</p>
  </li>
  <li>
    <p>Also, you would find that you avoid unnecessary nesting (which will calm your eyes 👁 and your linter). Thus, making your code easy to understand.</p>
  </li>
</ul>

<p><img src="/images/2019-12-20-clean-code-1-flat-is-better-than-nested-leave-when-not-okay/1.png" alt=""></p>

<h3 id="bubble-vs-gateway">Bubble vs Gateway</h3>

<p>Bad (left): Bubble-Style</p>

<p>Good (right): Gateway-Style</p>

<h2 id="if-deep-nests-exist-separate-loop-and-operation">If deep nests exist? Separate loop and operation</h2>

<p>Extract the logic to other readable methods or use streams (Java)/lambda or something equivalent in your programming language of choice.</p>

<p>Usually, there is a problem where you have to perform a bunch of operations on an array of objects.</p>

<p>I tend to create at-least** 2 functions** for this:</p>

<ol>
  <li>
    <p>One that performs an operation on a single object.</p>
  </li>
  <li>
    <p>Other calls the first function in a loop.</p>
  </li>
</ol>

<p>In case if something goes wrong, it is easier to debug it since I know what function has what responsibility.</p>

<h3 id="simplified-example-link-to-code">Simplified Example: <a href="https://gist.github.com/ankschoubey/c9785400ce2c1aee8271485b15dafd6d">Link to Code</a>
</h3>

<p><img src="/images/2019-12-20-clean-code-1-flat-is-better-than-nested-leave-when-not-okay/2.png" alt=""></p>

<p>You have a bunch of students for which you calculate the average grade.</p>

<p><img src="/images/2019-12-20-clean-code-1-flat-is-better-than-nested-leave-when-not-okay/3.png" alt=""></p>

<p>In the above BadGrader, you can see than the code of calculating the grades is within the loop. This is bad as we cannot use the same piece of code elsewhere in the program.</p>

<p><img src="/images/2019-12-20-clean-code-1-flat-is-better-than-nested-leave-when-not-okay/4.png" alt=""></p>

<p>The BetterGrader separates the calculation part from the printing part.</p>

<p><img src="/images/2019-12-20-clean-code-1-flat-is-better-than-nested-leave-when-not-okay/5.png" alt=""></p>

<p>GoodGrader removes the naive logic that was used to calculate average and replaces it with a much shorter code that makes use of inbuilt functions.</p>

<p>This is an example of chunking which will be explained more in the next post.</p>

<p><strong>Next</strong>: <a href="/clean%20code/2019/12/20/clean-code-2-leave-clues-naming-convention.html">Leave clues (Naming convention)</a></p>

<p><strong>Index</strong>: <a href="/software%20development/clean%20code/2019/12/19/series-tips-on-writing-clean-code.html">Tips on writing Clean Code</a></p>

<h1 id="resource">Resource:</h1>

<ul>
  <li><a href="https://refactoring.com/catalog/replaceNestedConditionalWithGuardClauses.html">Replace Nested Conditional with Guard Clauses</a></li>
</ul>

  </div>
<!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js" repo="ankschoubey/blog" issue-term="title" label="blogpost-comment" theme="github-light" crossorigin="anonymous" async>
</script><div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'https://www.ankushchoubey.com/flat_is_better/';
      this.page.identifier = 'https://www.ankushchoubey.com/flat_is_better/';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://ankushchoubey.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
<a class="u-url" href="/flat_is_better/" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="https://www.ankushchoubey.com/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Full Stack Developer - Cloud/Microservices</p>
      </div>
    </div>

    <div class="social-links">
<ul class="social-media-list">
<li>
  <a rel="me" href="https://github.com/ankschoubey" target="_blank" title="github">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#github"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://twitter.com/ankschoubey" target="_blank" title="twitter">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#twitter"></use>
    </svg>
  </a>
</li>
</ul>
</div>

  </div>

</footer>
</body>

</html>
