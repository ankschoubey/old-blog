<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<!-- <script>
  for (const iterator of document.getElementsByClassName('page-link')) {
      if (iterator.innerHTML === 'Search'){ iterator.classList.add('search-button'); iterator.title = 'Search';}
      if (iterator.innerHTML === 'Tags'){ iterator.classList.add('tags-button'); iterator.title = 'Tags';}
      if (iterator.innerHTML === 'Side Projects'){ iterator.classList.add('side-project-button'); iterator.title = 'Side Projects';}
  }
</script> --><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script type="text/javascript" src="/assets/accordian.js"></script>

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Flat is better than nested</h1>

    <p class="page-description">Leave when not okay</p>
<p class="post-meta post-meta-title"><time class="dt-published post-meta-created-date" datetime="2019-12-20T00:00:00-06:00" itemprop="datePublished">
        Written: Dec 20, 2019
      </time>~<time class="dt-modified post-meta-last-modified-date" datetime="2019-12-20T14:42:15-06:00" itemprop="dateModified">
          Updated: Dec 20, 2019
        </time>
       ‚Ä¢ <span class="read-time" title="Estimated read time">
    
    
      2 min read
    
</span></p>    <style>
        .post-tool-bar{
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0px 10px 0px;
            /* border: 1px solid #e8e8e8; */
            border-width: 0px 0px 1px 0px;
        }
        .left-section , .right-section{
            display: flex;
            gap: 8px;
        }

    </style>
    
    <div class="post-tool-bar">
<!-- <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
        AOS.init();
</script> -->

<div class="tag-list">
    
    <a class="tag fa fa-hashtag clean-code" href="/categories/#clean-code">clean-code</a>
    
</div>
<div class="right-section">
<a id="translate-btn" href="https://www.translatetheweb.com/?ref=TAns&from=&to=hi&a=https%3A%2F%2Fwww.ankushchoubey.com%2F">
    <img src="/images/icons/translate.svg" alt="Translate" style="width:35px">
</a>


<script>
    a = document.getElementById('translate-btn');
    a.setAttribute("href", "https://www.translatetheweb.com/?ref=TAns&from=&to=hi&a=" + window.location.href);
</script><a id="speech-btn">
    <img src="/images/icons/ear.svg" alt="listen" style="width:35px; cursor: pointer;">
</a>

<script>
    speakPost = () => {
        var msg = new SpeechSynthesisUtterance();
        const title = document.querySelector("h1.post-title.p-name").innerText;
        const post = document.querySelector("div.post-content.e-content").innerText
        msg.text = title + '.' + post;
        window.speechSynthesis.speak(msg);
    }
    if ('speechSynthesis' in window) {
        document.getElementById("speech-btn").addEventListener("click", speakPost);
    } else {
        document.getElementById('speech-btn').style.display = 'none';
    }
</script>

<!-- https://www.alebalweb-blog.com/85-text-to-speech-player-with-buttons-play-pause-stop-and-voice-choice.html -->
</div>
      
          
    </div>
    
</header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h2">
<a href="#nesting-clutters-your-code">Nesting clutters your code.</a>
<ul>
<li class="toc-entry toc-h3"><a href="#where-does-the-block-end">Where does the block end</a></li>
<li class="toc-entry toc-h3"><a href="#unnecessary-horizontal-scrolling">Unnecessary horizontal scrolling</a></li>
<li class="toc-entry toc-h3"><a href="#nesting-makes-your-code-hard-to-understand">Nesting makes your code hard to understand.</a></li>
</ul>
</li>
<li class="toc-entry toc-h2">
<a href="#avoid-the-use-of-else">Avoid the use of else.</a>
<ul>
<li class="toc-entry toc-h3"><a href="#returnthrow-when-not-okay">Return/throw when not okay</a></li>
<li class="toc-entry toc-h3"><a href="#bubble-vs-gateway">Bubble vs Gateway</a></li>
</ul>
</li>
<li class="toc-entry toc-h2">
<a href="#if-deep-nests-exist-separate-loop-and-operation">If deep nests exist? Separate loop and operation</a>
<ul>
<li class="toc-entry toc-h3"><a href="#simplified-example-link-to-code">Simplified Example: Link to Code</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#resource">Resource:</a></li>
</ul>
<p>This might be the most important tip of all the tips covered which applies mainly to if-else statements.</p>

<h2 id="nesting-clutters-your-code">
<a class="anchor" href="#nesting-clutters-your-code" aria-hidden="true"><span class="octicon octicon-link"></span></a>Nesting clutters your code.</h2>

<h3 id="where-does-the-block-end">
<a class="anchor" href="#where-does-the-block-end" aria-hidden="true"><span class="octicon octicon-link"></span></a>Where does the block end</h3>

<p>It becomes hard to find where a particular block ends easily (especially if someone writes 8 or more nests üòñ)</p>

<h3 id="unnecessary-horizontal-scrolling">
<a class="anchor" href="#unnecessary-horizontal-scrolling" aria-hidden="true"><span class="octicon octicon-link"></span></a>Unnecessary horizontal scrolling</h3>

<p>Also, you might have to scroll horizontally to see what the complete code is since it does not fit your screen.</p>

<h3 id="nesting-makes-your-code-hard-to-understand">
<a class="anchor" href="#nesting-makes-your-code-hard-to-understand" aria-hidden="true"><span class="octicon octicon-link"></span></a>Nesting makes your code hard to understand.</h3>

<p>While you are reading your nested block, you have to remember what all conditions preceded it.</p>

<p>The below guideline should counter that:</p>

<blockquote>
  <p>Max indent should be 2, in case of exceptions 3</p>
</blockquote>

<h2 id="avoid-the-use-of-else">
<a class="anchor" href="#avoid-the-use-of-else" aria-hidden="true"><span class="octicon octicon-link"></span></a>Avoid the use of else.</h2>

<h3 id="returnthrow-when-not-okay">
<a class="anchor" href="#returnthrow-when-not-okay" aria-hidden="true"><span class="octicon octicon-link"></span></a>Return/throw when not okay</h3>

<ul>
  <li>
    <p>By returning early you make sure that in each of your functions the last line of your function returns what it is actually supposed to return. This will make your code consistent.</p>
  </li>
  <li>
    <p>Also, you would find that you avoid unnecessary nesting (which will calm your eyes üëÅ and your linter). Thus, making your code easy to understand.</p>
  </li>
</ul>

<p><img src="/images/2019-12-20-clean-code-1-flat-is-better-than-nested-leave-when-not-okay/1.png" alt=""></p>

<h3 id="bubble-vs-gateway">
<a class="anchor" href="#bubble-vs-gateway" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bubble vs Gateway</h3>

<p>Bad (left): Bubble-Style</p>

<p>Good (right): Gateway-Style</p>

<h2 id="if-deep-nests-exist-separate-loop-and-operation">
<a class="anchor" href="#if-deep-nests-exist-separate-loop-and-operation" aria-hidden="true"><span class="octicon octicon-link"></span></a>If deep nests exist? Separate loop and operation</h2>

<p>Extract the logic to other readable methods or use streams (Java)/lambda or something equivalent in your programming language of choice.</p>

<p>Usually, there is a problem where you have to perform a bunch of operations on an array of objects.</p>

<p>I tend to create at-least** 2 functions** for this:</p>

<ol>
  <li>
    <p>One that performs an operation on a single object.</p>
  </li>
  <li>
    <p>Other calls the first function in a loop.</p>
  </li>
</ol>

<p>In case if something goes wrong, it is easier to debug it since I know what function has what responsibility.</p>

<h3 id="simplified-example-link-to-code">
<a class="anchor" href="#simplified-example-link-to-code" aria-hidden="true"><span class="octicon octicon-link"></span></a>Simplified Example: <a href="https://gist.github.com/ankschoubey/c9785400ce2c1aee8271485b15dafd6d">Link to Code</a>
</h3>

<p><img src="/images/2019-12-20-clean-code-1-flat-is-better-than-nested-leave-when-not-okay/2.png" alt=""></p>

<p>You have a bunch of students for which you calculate the average grade.</p>

<p><img src="/images/2019-12-20-clean-code-1-flat-is-better-than-nested-leave-when-not-okay/3.png" alt=""></p>

<p>In the above BadGrader, you can see than the code of calculating the grades is within the loop. This is bad as we cannot use the same piece of code elsewhere in the program.</p>

<p><img src="/images/2019-12-20-clean-code-1-flat-is-better-than-nested-leave-when-not-okay/4.png" alt=""></p>

<p>The BetterGrader separates the calculation part from the printing part.</p>

<p><img src="/images/2019-12-20-clean-code-1-flat-is-better-than-nested-leave-when-not-okay/5.png" alt=""></p>

<p>GoodGrader removes the naive logic that was used to calculate average and replaces it with a much shorter code that makes use of inbuilt functions.</p>

<p>This is an example of chunking which will be explained more in the next post.</p>

<p><strong>Next</strong>: <a href="/clean%20code/2019/12/20/clean-code-2-leave-clues-naming-convention.html">Leave clues (Naming convention)</a></p>

<p><strong>Index</strong>: <a href="/software%20development/clean%20code/2019/12/19/series-tips-on-writing-clean-code.html">Tips on writing Clean Code</a></p>

<h1 id="resource">
<a class="anchor" href="#resource" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resource:</h1>

<ul>
  <li><a href="https://refactoring.com/catalog/replaceNestedConditionalWithGuardClauses.html">Replace Nested Conditional with Guard Clauses</a></li>
</ul>

  </div>
  <!-- https://david.elbe.me/jekyll/2015/06/20/how-to-link-to-next-and-previous-post-with-jekyll.html -->

<div class="PageNavigation">
    
      <a class="prev" href="/clean_code/">¬´ Clean Code</a>
    
    
      <a class="next" href="/naming_conventions/">Leave Clues ¬ª</a>
    
  </div>

<style>
    .PageNavigation {
  font-size: 14px;
  display: block;
  width: auto;
  overflow: hidden;
}

.PageNavigation a {
  display: block;
  width: 50%;
  float: left;
  margin: 1em 0;
}

.PageNavigation .next {
  text-align: right;
}
</style>
<!-- from https://github.com/utterance/utterances -->
<!-- <script src="https://utteranc.es/client.js"
        repo="ankschoubey/blog"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script> -->

  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'https://www.ankushchoubey.com/flat_is_better/';
      this.page.identifier = 'https://www.ankushchoubey.com/flat_is_better/';
    };
    (function() {
      var d = document, s = d.createElement('script');
      s.src = 'https://ankushchoubey.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
<a class="u-url" href="/flat_is_better/" hidden></a>
</article>
</head></html>
