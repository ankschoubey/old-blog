<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<!-- <script>
  for (const iterator of document.getElementsByClassName('page-link')) {
      if (iterator.innerHTML === 'Search'){ iterator.classList.add('search-button'); iterator.title = 'Search';}
      if (iterator.innerHTML === 'Tags'){ iterator.classList.add('tags-button'); iterator.title = 'Tags';}
      if (iterator.innerHTML === 'Side Projects'){ iterator.classList.add('side-project-button'); iterator.title = 'Side Projects';}
  }
</script> --><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script type="text/javascript" src="/assets/accordian.js"></script>

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Rules of thumbs for Distributed System</h1>

    <p class="post-meta post-meta-title"><time class="dt-published post-meta-created-date" datetime="2022-06-25T00:00:00-05:00" itemprop="datePublished">
        Written: Jun 25, 2022
      </time>~<time class="dt-modified post-meta-last-modified-date" datetime="2022-06-25T15:52:08-05:00" itemprop="dateModified">
          Updated: Jun 25, 2022
        </time>
       • <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>    <style>
        .post-tool-bar{
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0px 10px 0px;
            /* border: 1px solid #e8e8e8; */
            border-width: 0px 0px 1px 0px;
        }
        .left-section , .right-section{
            display: flex;
            gap: 8px;
        }

    </style>
    
    <div class="post-tool-bar">
<!-- <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
        AOS.init();
</script> -->

<div class="tag-list">
    
    <a class="tag fa fa-hashtag distributed-systems" href="/categories/#distributed-systems">distributed-systems</a>
    
    <a class="tag fa fa-hashtag microservices" href="/categories/#microservices">microservices</a>
    
</div>
<div class="right-section">
<a id="translate-btn" href="https://www.translatetheweb.com/?ref=TAns&from=&to=hi&a=https%3A%2F%2Fwww.ankushchoubey.com%2F">
    <img src="/images/icons/translate.svg" alt="Translate" style="width:35px">
</a>


<script>
    a = document.getElementById('translate-btn');
    a.setAttribute("href", "https://www.translatetheweb.com/?ref=TAns&from=&to=hi&a=" + window.location.href);
</script><a id="speech-btn">
    <img src="/images/icons/ear.svg" alt="listen" style="width:35px; cursor: pointer;">
</a>

<script>
    speakPost = () => {
        var msg = new SpeechSynthesisUtterance();
        const title = document.querySelector("h1.post-title.p-name").innerText;
        const post = document.querySelector("div.post-content.e-content").innerText
        msg.text = title + '.' + post;
        window.speechSynthesis.speak(msg);
    }
    if ('speechSynthesis' in window) {
        document.getElementById("speech-btn").addEventListener("click", speakPost);
    } else {
        document.getElementById('speech-btn').style.display = 'none';
    }
</script>

<!-- https://www.alebalweb-blog.com/85-text-to-speech-player-with-buttons-play-pause-stop-and-voice-choice.html -->
</div>
      
          
    </div>
    
</header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#dont-distribute-or-atleast-dont-distribute-early">Don’t distribute. Or atleast don’t distribute early.</a></li>
<li class="toc-entry toc-h1"><a href="#separate-database">Separate database</a></li>
<li class="toc-entry toc-h1"><a href="#prefer-event-driven-services">Prefer Event Driven Services</a></li>
<li class="toc-entry toc-h1"><a href="#keep-code-and-interface-quality-damn-high">Keep code and interface quality damn high.</a></li>
</ul>
<h1 id="dont-distribute-or-atleast-dont-distribute-early">
<a class="anchor" href="#dont-distribute-or-atleast-dont-distribute-early" aria-hidden="true"><span class="octicon octicon-link"></span></a>Don’t distribute. Or atleast don’t distribute early.</h1>

<p>We have a tendancy to over engineer.</p>

<p>Having distributed system creates complexity. You want to avoid complexity as much as possible. Atleast early on.</p>

<p>If a single codebase can deliver good enough performance and is small/organized enough then there is no need of distributing.</p>

<p>It’s easier to have everything very decoupled and in separate packages and then distribute things later if need arises.</p>

<h1 id="separate-database">
<a class="anchor" href="#separate-database" aria-hidden="true"><span class="octicon octicon-link"></span></a>Separate database</h1>

<p>Database for each service should be separate. Data can be shared either by having API call or by using message queue.</p>

<p>If the database is not separate, then the tendacy to make it spagati is high.</p>

<p>A potential exception to this is CQRS style services where one service writes the data and the other service reads the data. In this case, both services are highly coupled to each other.</p>

<h1 id="prefer-event-driven-services">
<a class="anchor" href="#prefer-event-driven-services" aria-hidden="true"><span class="octicon octicon-link"></span></a>Prefer Event Driven Services</h1>

<p>Message queues are highly decoupled and can scale very efficiently. Prefer having all internal sharing of data using message queue.</p>

<p>Preferable, publish every business object that the microservice handles.</p>

<p>This requires having good naming conventions.</p>

<p>Replication is okay in event driven microservices.</p>

<h1 id="keep-code-and-interface-quality-damn-high">
<a class="anchor" href="#keep-code-and-interface-quality-damn-high" aria-hidden="true"><span class="octicon octicon-link"></span></a>Keep code and interface quality damn high.</h1>

<p>In micro-services, you have to have a very high quality interface. This means Rest APIs, Kafka messages, etc. If quality/standards are not followed, then it effects every other service.</p>

<p>In monoliths, you can almost get away with everything. Specailly if the only consumer is your frontend.</p>

  </div>
  <!-- https://david.elbe.me/jekyll/2015/06/20/how-to-link-to-next-and-previous-post-with-jekyll.html -->

<div class="PageNavigation">
    
      <a class="prev" href="/social-confidence/">« Reason to aim for social confidence</a>
    
    
      <a class="next" href="/creative-variable-names/">Writing cleaner tests with creative variable names »</a>
    
  </div>

<style>
    .PageNavigation {
  font-size: 14px;
  display: block;
  width: auto;
  overflow: hidden;
}

.PageNavigation a {
  display: block;
  width: 50%;
  float: left;
  margin: 1em 0;
}

.PageNavigation .next {
  text-align: right;
}
</style>
<!-- from https://github.com/utterance/utterances -->
<!-- <script src="https://utteranc.es/client.js"
        repo="ankschoubey/blog"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script> -->

  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'https://www.ankushchoubey.com/rule-of_thumb-distributed-systems/';
      this.page.identifier = 'https://www.ankushchoubey.com/rule-of_thumb-distributed-systems/';
    };
    (function() {
      var d = document, s = d.createElement('script');
      s.src = 'https://ankushchoubey.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
<a class="u-url" href="/rule-of_thumb-distributed-systems/" hidden></a>
</article>
</head></html>
